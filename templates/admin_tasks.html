{% extends "layout_base.html" %}
{% block content %}
<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
  <section class="p-4 bg-slate-800 rounded-xl">
    <h2 class="font-semibold mb-3">Announcements</h2>
    <form hx-post="/api/announcements" hx-swap="none" class="space-y-2">
      <input name="title" placeholder="Title" class="w-full px-3 py-2 rounded bg-slate-900/70" required>
      <textarea name="body" placeholder="Body" class="w-full px-3 py-2 rounded bg-slate-900/70"></textarea>
      <button class="px-3 py-2 bg-blue-600 rounded">Publish</button>
    </form>
    <div class="mt-4 space-y-2">
      {% for a in announcements %}
      <div class="p-3 bg-slate-900/60 rounded">
        <div class="font-semibold">{{ a.title }}</div>
        <div class="text-sm text-white/70">{{ a.body }}</div>
      </div>
      {% endfor %}
    </div>
  </section>

  <section class="p-4 bg-slate-800 rounded-xl">
    <h2 class="font-semibold mb-3">Recurring Templates</h2>
    <div class="space-y-2">
      {% for t in templates %}
      <div class="p-3 bg-slate-900/60 rounded">{{ t.title }} â€” {{ t.freq }} {{ t.hour }}:{{ '%02d'|format(t.minute) }}</div>
      {% endfor %}
    </div>
    <form hx-post="/cron/run-recurring" hx-swap="none" class="mt-4">
      <button class="px-3 py-2 bg-green-600 rounded">Run Recurring Now</button>
    </form>
  </section>
</div>
{% endblock %}


